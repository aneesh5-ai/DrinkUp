<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Drink Up</title>

  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/addons/p5.sound.min.js"></script>
  <script src="https://unpkg.com/ml5@0.12.2/dist/ml5.min.js"></script>

  <!-- Load your sketch AFTER libs -->
  <script src="sketch.js" defer></script>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: #000;
      color: #e8e8e8;
      font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
      overflow: hidden;
    }

    canvas { display: block; }

    #intro {
      position: fixed;
      inset: 0;
      background: #0b0b0f;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      padding: clamp(40px, 8vw, 120px);
      z-index: 100;
      transition: opacity 0.6s ease;
    }

    #intro.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .content { max-width: 720px; width: 100%; }

    .title {
      font-size: clamp(42px, 7vw, 72px);
      font-weight: 800;
      letter-spacing: -1px;
      margin-bottom: 20px;
      color: #ffffff;
    }

    .tagline {
      font-size: 18px;
      color: #b8b8b8;
      margin-bottom: 40px;
      line-height: 1.6;
    }

    .section { margin-bottom: 28px; }

    .section-title {
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #888;
      margin-bottom: 8px;
    }

    .section p {
      font-size: 16px;
      line-height: 1.7;
      color: #e0e0e0;
    }

    #startBtn {
      margin-top: 40px;
      padding: 14px 28px;
      font-size: 16px;
      font-weight: 600;
      background: #ffffff;
      color: #000000;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: opacity 0.15s ease;
    }

    #startBtn:hover { opacity: 0.8; }

    #glassScreen {
      position: fixed;
      inset: 0;
      pointer-events: none;
      backdrop-filter: blur(0px);
      transition: backdrop-filter 0.5s ease;
      z-index: 1;
    }

    #glassScreen.gameOver { display: none; }
  </style>
</head>

<body>
  <div id="intro">
    <div class="content">
      <div class="title">Drink Up</div>

      <div class="tagline">
        A turn-based game where players attempt to make the puppet drink without being the one responsible for its blackout.
      </div>

      <div class="section">
        <div class="section-title">Players</div>
        <p>
          Two or more players take turns. On your turn, you may offer one or two sips. After your turn ends, control passes to the next player. If the puppet blacks out during your turn, you lose.
        </p>
      </div>

      <div class="section">
        <div class="section-title">Controls</div>
        <p>
          Raise your right hand to your face to offer a sip. The puppet may resist. If it resists twice, your turn ends automatically. After several drinks, the risk of blackout increases with each round.
        </p>
      </div>

      <div class="section">
        <div class="section-title">Notes</div>
        <p>
          The puppet cannot be permanently harmed and participates voluntarily. This is a game of timing and risk management.
        </p>
      </div>

      <button id="startBtn">Start Game</button>
    </div>
  </div>

  <div id="glassScreen"></div>

  <script>
    document.getElementById("startBtn").addEventListener("click", function() {
      var intro = document.getElementById("intro");
      intro.classList.add("hidden");
      setTimeout(function() { intro.remove(); }, 700);
    });

    window.setGameOver = function() {
      var gs = document.getElementById("glassScreen");
      if (gs) gs.classList.add("gameOver");
    };
  </script>
</body>
</html>